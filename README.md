# Парсер государственной статистики качества городской среды

### Настроена обработка двух страниц: 
1. [Абсолютные значения](https://www.fedstat.ru/indicator/59146)
2. [Значения относитьельно 2019 года](https://www.fedstat.ru/indicator/61116)

### Инструкция по установке
1. Указать переменные среды в файле ```.env```. Пример значений есть в ```.env.example```
2. Запусить контейнер с БД с помощью docker-compose (или в ```.env``` указать существующую)
3. Установить зависимости и запустить виртуальную среду (команды зависят от настроек poetry)
```
poetry install
poetry shell
```

### Алгоритм работы:
1. Создает таблицы в БД
2. В браузере Edge загружает страницу, настраивает вывод таблицы, загружает код элемента
3. Сохраняет данные в .csv файл
4. Записывает (или обновляет) записи в БД из прочитанного .csv файла

### Запуск программы внутри виртуальной среды:
```
python setup.py
```

### Технологии:
1. selenium
2. BeautifulSoup
3. peewee
4. pydantic_settings
5. dotenv
6. docker-compose
7. poetry
